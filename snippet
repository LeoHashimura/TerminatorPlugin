import os
from datetime import datetime

def overwrite_with_backup(path, content):
    if os.path.exists(path):
        open(
            f"{os.path.splitext(path)[0]}_"
            f"{datetime.fromtimestamp(os.path.getmtime(path)).strftime('%Y%m%d%H%M%S')}"
            f"{os.path.splitext(path)[1]}",
            "wb"
        ).write(open(path, "rb").read())
    open(path, "w", encoding="utf-8").write(content)